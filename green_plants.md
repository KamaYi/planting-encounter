**“植遇”植物识别与智能养护助手 V1.0 需求文档**

- **版本**：V1.0
- **日期**：2024 年 5 月 20 日
- **目标**：定义以纯前端实现的最小可行产品（MVP）核心需求，快速上线验证市场。


## 一、项目概述

- **项目名称**：植遇

- **项目定位**：
  面向家庭园艺新手、阳台种植爱好者的轻量化、辅助决策型工具。核心价值并非成为最全的植物百科全书，而是成为用户身边最靠谱的“养护顾问”，解决“认得出但养不活”的核心痛点。

- **核心价值**：
  - **精准识别（增强版）**：结合第三方 API 与本地纠错机制，提供比单纯通用识别更贴近园艺场景的结果（如将“印度榕”关联为“黑金刚”）。
  - **可执行的养护指导**：提供清晰、可操作、非笼统的养护步骤和提醒。
  - **零负担的智能提醒**：根据植物习性，生成个性化的浇水、施肥日历。

- **本期边界（V1.0）**：
  - **技术栈**：采用 Taro 框架开发，实现微信小程序端，并预留多端扩展能力。
  - **数据层**： 数据将以json的形式存到服务端，通过接口获取，并展示给用户 暂时先不对接数据库。
  - **核心目标**：跑通“识别 - 养护 - 提醒”核心闭环，验证用户对“准确性”和“养护提醒”的需求强度。


## 二、功能需求详述（V1.0）

### 1. 核心模块：植物识别与养护查询

- **功能描述**：
  用户拍照或从相册选择图片，应用调用第三方 API 识别，并展示结果与养护信息。

- **流程与规则**：
  - **图片上传**：支持拍照、相册选择，需提供图片裁剪 / 预览界面。
  - **调用第三方 API**：将图片发送至百度 AI 等植物识别 API。
    - 注意：API 密钥必须通过安全方式调用（如使用云函数），不可硬编码在前端。
  - **结果展示**：
    - 显示识别出的植物名称（取 `result` 中 `score` 最高项）。
    - 显示识别置信度（视觉化展示，如进度条）。
    - 直接展示与该植物名称绑定的本地养护知识（见下文“本地知识库”设计）。
  - **准确性反馈与本地纠正（核心差异化功能）**：
    - 在结果页提供“结果不准？”按钮。
    - 点击后，允许用户从本地植物列表中选择正确名称。
    - 用户选择后，系统在本地建立并存储一条“图片特征 / 第三方识别结果 -> 用户修正名称”的映射规则。
    - 下次遇到相同或高度相似的识别结果时，优先采用用户修正后的名称展示。

### 2. 核心模块：智能养护提醒

- **功能描述**：
  用户可将识别后的植物“认领”至“我的花园”，系统根据该植物习性，自动生成浇水、施肥提醒。

- **流程与规则**：
  - **添加至我的花园**：在识别结果页，提供“加入我的花园”按钮。
  - **编辑植物信息**：用户可自定义植物昵称、记录购买 / 种植日期。
  - **生成提醒**：
    - 从本地养护知识中，读取“浇水频率”“施肥频率”等关键周期信息。
    - 根据用户设定的起始日期，自动在本地生成未来的提醒日程。
    - 示例：知识库定义“绿萝：浇水周期 - 7 天”，用户 3 月 1 日添加，则系统自动创建 3 月 8 日、15 日… 的浇水提醒。
  - **提醒通知**：
    利用小程序订阅消息或本地通知 API，在提醒日向用户发送服务通知。

### 3. 辅助模块：我的花园与知识库

- **功能描述**：
  作为应用的“个人数据中心”，管理用户的所有植物和本地知识。

- **子功能**：
  - **我的花园**：
    以列表或卡片形式展示用户添加的所有植物，展示植物照片、昵称、下次浇水 / 施肥时间。可点击进入详情页查看完整养护指南或删除植物。
  - **本地知识库（前端静态数据）**：
    - **形式**：预先内置在前端代码中的 `plantData.js` 文件，结构为 JSON。
    - **内容**：包含 50–100 种最常见室内 / 园艺植物的精确养护数据。
    - **关键设计**：数据必须包含植物的标准名称和可能的常见别名 / 错误识别名，以支持纠正功能。

- **示例数据结构**：

```json
{
  "黑金刚": {
    "standardName": "黑金刚",
    "aliases": ["印度榕", "黑叶印度榕"],
    "maintenance": {
      "light": "喜明亮散射光，忌暴晒",
      "watering": "见干见湿，冬季需严格控水",
      "wateringInterval": 10,
      "fertilizing": "生长季每月一次稀薄液肥",
      "fertilizingInterval": 30
    }
  }
}
```

- **本地映射表**：
  在本地存储中，单独维护一个 `correctionMap`，用于存储用户自定义的纠正记录（例如：`{"百度API返回的‘印度榕'": "黑金刚"}`）。


## 三、非功能需求

- **性能**：图片上传识别流程，在良好网络下应在 3 秒内完成并展示结果。
- **兼容性**：兼容主流 Android 与 iOS 系统，适配不同屏幕尺寸。
- **用户体验**：
  - 首次使用需有清晰的任务引导，重点说明“纠正”功能的价值。
  - 识别功能需联网，但“我的花园”和已获取的养护信息应可离线查看。
  - 视觉设计清新、自然、亲和，符合园艺主题。


## 四、技术选型建议（Taro）

- **UI 框架**：推荐使用与 Taro 兼容性良好的 UI 库，如 Taro UI 或 NutUI，加速开发。
- **状态管理**：V1.0 功能较简单，优先使用 Taro 自带的状态管理或 Context API。若复杂度增加，可考虑 Zustand 或 Redux。
- **本地存储**：使用 `Taro.setStorageSync` 系列 API。
- **定时提醒**：利用 `Taro.createBackgroundAudioManager` 模拟后台，或依赖小程序订阅消息（需用户授权）。
- **地图选型（若未来需要）**：使用 Taro 官方地图组件或接入腾讯 / 高德地图小程序 SDK。


## 五、核心风险与应对

- **第三方 API 准确性风险**：
  通过“本地纠正”和“别名映射”机制缓解，这是产品差异化的起点。
- **纯前端数据局限性**：
  本地存储空间有限（约 10 MB），需设定“我的花园”植物数量上限（如 50 盆）。长期数据扩展是 V2.0 引入后端的主要原因。
- **养护知识的权威性**：
  V1.0 的本地知识库内容必须由园艺专家审核或来自权威资料，这是建立信任的基石。可在“关于我们”中注明知识来源。
- **冷启动问题**：
  初期本地纠正映射表为空，需在 UI 上鼓励首批用户积极纠正，可设计“贡献者感谢”等轻度激励。


## 六、成功指标（KPI）

- **用户活跃指标**：次周留存率、人均每周使用识别次数。
- **核心功能渗透率**：使用“加入我的花园”功能的用户比例、使用“结果纠正”功能的用户比例。
- **用户反馈**：通过小程序反馈入口收集用户对“识别准确性”和“养护建议实用性”的直接评价。


## 七、结论

V1.0 版本完全可行。它以极低的成本（纯前端）验证了最核心的商业假设：用户是否愿意为“更精准的识别结果”和“省心的个性化养护提醒”而使用并留存下来。
后续版本的所有规划（社区、电商、自建数据库）都应基于 V1.0 验证成功后所获取的数据和用户反馈来有序推进。
